!function(r){"use strict";var e=r.localStorage;null==e&&(e={getItem:function(){return null},setItem:function(){},removeItem:function(){},clear:function(){}});var l,i=function(){var o=e.getItem("bookmark");if(null==o)return null;try{return JSON.parse(o)}catch(o){return null}},c=function(){var o=r.document.createElement("style");o.type="text/css";var n=".book-mark-link{border-bottom:none;display:block;position:fixed;color:#222;font-size:26px !important;top:-10px;left:20px;transition:.3s;}.book-mark-link:hover,.book-mark-link-fixed{top:-2px}@media(max-width:1090px){.book-mark-link{display:none}}";n=r.document.createTextNode(n),o.appendChild(n),r.document.head.appendChild(o),l=$('<a class="book-mark-link book-mark-link-fixed fa fa-bookmark" href="#"></a>'),$(r.document.body).append(l);var t=0;$(r).on("scroll.bookmark",function(){var o=r.document.documentElement.scrollTop;0<o?0===t&&(l.removeClass("book-mark-link-fixed"),t=o):0<t&&(!l.hasClass("book-mark-link-fixed")&&l.addClass("book-mark-link-fixed"),t=0)})},u=function(o,n){null==n&&(n={});var t=r.document.documentElement.scrollTop;return n.lastUri=o,n[o]=t,e.setItem("bookmark",JSON.stringify(n)),l.animate({top:-26},"fast",function(){setTimeout(function(){l.css("top","")},400)}),n};r.bookmark={loadBookmark:function(){var o=i();null!=o&&$(function(){c(),l.attr("href",o.lastUri+"#book:mark")})},scrollToMark:function(n,t){var e=r.location.pathname,a=i();$(function(){var o;c(),l.click(function(){return a=u(e,a),!1}),"auto"===n&&r.addEventListener("beforeunload",function(){u(e,a)}),null!=a&&(0<[t,"#comments"].filter(function(o){return o===r.location.hash}).length||(o=a[e],isNaN(o)||$(function(){$(r.document.documentElement).animate({scrollTop:o},"fast")})))})}}}(window);