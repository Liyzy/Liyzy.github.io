<!DOCTYPE html>
<html>
<head>
    

    
<!-- Tencent Speed -->
<script>var _speedMark = new Date()</script>
<!-- End Tencent Speed -->
<!-- Tencent Analysis -->
<script async src="//tajs.qq.com/stats?sId=Liyzy.github.io"></script>
<!-- End Tencent Analysis -->


    



    <meta charset="utf-8">
    
    
    
    
    <title>利用ZXing工具生成二维码以及解析二维码 | 李三岁他很皮 | 学习干嘛 愣着啊</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="JAVA">
    <meta name="description" content="今天突然想到二维码是如何存储信息的，手画二维码是否可行呢。于是就开始各种搜索，最终自己也利用Google的ZXing工具完成了一个生成二维码和解析二维码的简单程序。 一、 二维码生成原理（即工作原理）二维码官方叫版本Version。Version 1是21 x 21的矩阵，Version 2是 25 x 25的矩阵，Version 3是29的尺寸，每增加一个version，就会增加4的尺寸，公式是">
<meta name="keywords" content="JAVA">
<meta property="og:type" content="article">
<meta property="og:title" content="利用ZXing工具生成二维码以及解析二维码">
<meta property="og:url" content="http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/index.html">
<meta property="og:site_name" content="李三岁他很皮">
<meta property="og:description" content="今天突然想到二维码是如何存储信息的，手画二维码是否可行呢。于是就开始各种搜索，最终自己也利用Google的ZXing工具完成了一个生成二维码和解析二维码的简单程序。 一、 二维码生成原理（即工作原理）二维码官方叫版本Version。Version 1是21 x 21的矩阵，Version 2是 25 x 25的矩阵，Version 3是29的尺寸，每增加一个version，就会增加4的尺寸，公式是">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://gss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=caf539606b224f4a57cc7b1539c7bc6a/024f78f0f736afc3013f7023b519ebc4b7451240.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=d8c7c96a8101a18bf0be1a49ae1f2b30/8694a4c27d1ed21b5de761a3ab6eddc451da3f4d.jpg">
<meta property="og:image" content="https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=e06f4364b51bb0518f71bb2e064af68c/738b4710b912c8fc8ad6b98bfa039245d688214a.jpg">
<meta property="og:image" content="https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=8ab6ed5dd20735fa91a546bfae61238b/8cb1cb1349540923fcfa2c389458d109b2de49e0.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=3ba9738196529822056631c5e7fa57f3/0b55b319ebc4b7453e23f850c9fc1e178b8215c4.jpg">
<meta property="og:image" content="https://gss0.baidu.com/7Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=02a423f4b4b7d0a27b9c0c9bfbdf5a31/63d0f703918fa0eca76a2b4b209759ee3c6ddbc3.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=fc08826f8018367aaddc77db1e43a7ec/c9fcc3cec3fdfc03de1cacfed23f8794a4c2260b.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=c27ff065652762d0806bacb990dc24c2/43a7d933c895d143c6d8ab6575f082025baf07cd.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=a44d40f1ef50352ab1342d0e6373d7ca/e824b899a9014c08f0b867e30c7b02087af4f4f1.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=a2c4794d5db5c9ea62a60be5e5099a38/8601a18b87d6277f08707d7e2e381f30e924fc12.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=55f2d2a5fb1f4134e0620d78152fb9f2/d1a20cf431adcbef85e53140aaaf2edda2cc9fa7.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=94882b79dff9d72a1731181be41a040c/f9198618367adab4c42954058dd4b31c8601e4ff.jpg">
<meta property="og:image" content="https://gss0.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=7ccde12649c2d562f25dd8ebd721bcd7/7acb0a46f21fbe09ae968c526d600c338644ada8.jpg">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/12649311-374caaf35a8835dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp">
<meta property="og:updated_time" content="2018-09-06T10:40:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="利用ZXing工具生成二维码以及解析二维码">
<meta name="twitter:description" content="今天突然想到二维码是如何存储信息的，手画二维码是否可行呢。于是就开始各种搜索，最终自己也利用Google的ZXing工具完成了一个生成二维码和解析二维码的简单程序。 一、 二维码生成原理（即工作原理）二维码官方叫版本Version。Version 1是21 x 21的矩阵，Version 2是 25 x 25的矩阵，Version 3是29的尺寸，每增加一个version，就会增加4的尺寸，公式是">
<meta name="twitter:image" content="https://gss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=caf539606b224f4a57cc7b1539c7bc6a/024f78f0f736afc3013f7023b519ebc4b7451240.jpg">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">lihui</h5>
          <a href="mailto:2469660964@qq.com" title="2469660964@qq.com" class="mail">2469660964@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Liyzy" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">利用ZXing工具生成二维码以及解析二维码</div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">利用ZXing工具生成二维码以及解析二维码</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-09-06T10:40:52.971Z" itemprop="datePublished" class="page-time">
  2018-09-06
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一、-二维码生成原理（即工作原理）"><span class="post-toc-text">一、 二维码生成原理（即工作原理）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#二、-编码实现"><span class="post-toc-text">二、 编码实现</span></a></li></ol>
        </nav>
    </aside>


<article id="post-利用ZXing工具生成二维码以及解析二维码"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">利用ZXing工具生成二维码以及解析二维码</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-09-06 18:40:52" datetime="2018-09-06T10:40:52.971Z"  itemprop="datePublished">2018-09-06</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>今天突然想到二维码是如何存储信息的，手画二维码是否可行呢。于是就开始各种搜索，最终自己也利用Google的ZXing工具完成了一个生成二维码和解析二维码的简单程序。</p>
<h3 id="一、-二维码生成原理（即工作原理）"><a href="#一、-二维码生成原理（即工作原理）" class="headerlink" title="一、 二维码生成原理（即工作原理）"></a>一、 二维码生成原理（即工作原理）</h3><p>二维码官方叫版本Version。Version 1是21 x 21的矩阵，Version 2是 25 x 25的矩阵，Version 3是29的尺寸，每增加一个version，就会增加4的尺寸，公式是：(V-1)<em>4 + 21（V是版本号） 最高Version 40，(40-1)</em>4+21 = 177，所以最高是177 x 177 的正方形。</p>
<p>下面是一个二维码的样例：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=caf539606b224f4a57cc7b1539c7bc6a/024f78f0f736afc3013f7023b519ebc4b7451240.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>1、定位图案</p>
<p>Position Detection Pattern是定位图案，用于标记二维码的矩形大小。这三个定位图案有白边叫Separators for Postion Detection Patterns。之所以三个而不是四个意思就是三个就可以标识一个矩形了。</p>
<p>Timing Patterns也是用于定位的。原因是二维码有40种尺寸，尺寸过大了后需要有根标准线，不然扫描的时候可能会扫歪了。</p>
<p>Alignment Patterns 只有Version 2以上（包括Version2）的二维码需要这个东东，同样是为了定位用的。</p>
<p>2、功能性数据</p>
<p>Format Information 存在于所有的尺寸中，用于存放一些格式化数据的。</p>
<p>Version Information 在 &gt;= Version 7以上，需要预留两块3 x 6的区域存放一些版本信息。</p>
<p>数据码和纠错码</p>
<p>除了上述的那些地方，剩下的地方存放 Data Code 数据码 和 Error Correction Code 纠错码。</p>
<p>3、数据编码</p>
<p>QR码支持如下的编码：</p>
<p>Numeric mode 数字编码，从0到9。如果需要编码的数字的个数不是3的倍数，那么，最后剩下的1或2位数会被转成4或7bits，则其它的每3位数字会被编成 10，12，14bits，编成多长还要看二维码的尺寸（下面有一个表Table 3说明了这点）</p>
<p>Alphanumeric mode 字符编码。包括 0-9，大写的A到Z（没有小写），以及符号$ % * + – . / : 包括空格。这些字符会映射成一个字符索引表。如下所示：（其中的SP是空格，Char是字符，Value是其索引值） 编码的过程是把字符两两分组，然后转成下表的45进制，然后转成11bits的二进制，如果最后有一个落单的，那就转成6bits的二进制。而编码模式和 字符的个数需要根据不同的Version尺寸编成9, 11或13个二进制（如下表中Table 3）<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=d8c7c96a8101a18bf0be1a49ae1f2b30/8694a4c27d1ed21b5de761a3ab6eddc451da3f4d.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>Byte mode, 字节编码，可以是0-255的ISO-8859-1字符。有些二维码的扫描器可以自动检测是否是UTF-8的编码。</p>
<p>Kanji mode 这是日文编码，也是双字节编码。同样，也可以用于中文编码。日文和汉字的编码会减去一个 值。如：在0X8140 to 0X9FFC中的字符会减去8140，在0XE040到0XEBBF中的字符要减去0XC140，然后把前两位拿出来乘以0XC0，然后再加上后两位，最 后转成13bit的编码。如下图示例：<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=e06f4364b51bb0518f71bb2e064af68c/738b4710b912c8fc8ad6b98bfa039245d688214a.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>Extended Channel Interpretation (ECI) mode 主要用于特殊的字符集。并不是所有的扫描器都支持这种编码。</p>
<p>Structured Append mode 用于混合编码，也就是说，这个二维码中包含了多种编码格式。</p>
<p>FNC1 mode 这种编码方式主要是给一些特殊的工业或行业用的。比如GS1条形码之类的。</p>
<p>简单起见，后面三种不会在本文 中讨论。</p>
<p>下面两张表中，</p>
<p>Table 2 是各个编码格式的“编号”，这个东西要写在Format Information中。注：中文是1101</p>
<p>Table 3 表示了，不同版本（尺寸）的二维码，对于，数字，字符，字节和Kanji模式下，对于单个编码的2进制的位数。（在二维码的规格说明书中，有各种各样的编码规范表，后面还会提到）</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=8ab6ed5dd20735fa91a546bfae61238b/8cb1cb1349540923fcfa2c389458d109b2de49e0.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>示例一：数字编码</p>
<p>在Version 1的尺寸下，纠错级别为H的情况下，编码： 01234567</p>
<p> 把上述数字分成三组: 012 345 67</p>
<p> 把他们转成二进制:  012 转成 0000001100；  345 转成 0101011001；  67 转成 1000011。</p>
<p> 把这三个二进制串起来: 0000001100 0101011001 1000011</p>
<p> 把数字的个数转成二进制 (version 1-H是10 bits ): 8个数字的二进制是 0000001000</p>
<p> 把数字编码的标志0001和第4步的编码加到前面:  0001 0000001000 0000001100 0101011001 1000011</p>
<p>示例二：字符编码</p>
<p>在Version 1的尺寸下，纠错级别为H的情况下，编码: AC-42</p>
<ol>
<li><p>从字符索引表中找到 AC-42 这五个字条的索引 (10,12,41,4,2)</p>
</li>
<li><p>两两分组: (10,12) (41,4) (2)</p>
</li>
</ol>
<p>3.把每一组转成11bits的二进制:</p>
<p>(10,12) 10*45+12 等于 462 转成 00111001110</p>
<p>(41,4) 41*45+4 等于 1849 转成 11100111001</p>
<p>(2) 等于 2 转成 000010</p>
<ol start="4">
<li><p>把这些二进制连接起来：00111001110 11100111001 000010</p>
</li>
<li><p>把字符的个数转成二进制 (Version 1-H为9 bits ): 5个字符，5转成 000000101</p>
</li>
<li><p>在头上加上编码标识 0010 和第5步的个数编码:  0010 000000101 00111001110 11100111001 000010</p>
</li>
</ol>
<p>结束符和补齐符</p>
<p>假如我们有个HELLO WORLD的字符串要编码，根据上面的示例二，我们可以得到下面的编码，</p>
<p>编码</p>
<p>字符数</p>
<p>HELLO WORLD的编码</p>
<p>0010    000001011    01100001011 01111000110 10001011100 10110111000 10011010100 001101    </p>
<p>我们还要加上结束符：</p>
<p>编码</p>
<p>字符数</p>
<p>HELLO WORLD的编码</p>
<p>结束</p>
<p>0010    000001011    01100001011 01111000110 10001011100 10110111000 10011010100 001101    0000    </p>
<p>按8bits重排</p>
<p>如果所有的编码加起来不是8个倍数我们还要在后面加上足够的0，比如上面一共有78个bits，所以，我们还要加上2个0，然后按8个bits分好组：</p>
<p>00100000   01011011   00001011   01111000   11010001   01110010   11011100   01001101   01000011   01000000</p>
<p>补齐码（Padding Bytes）</p>
<p>最后，如果如果还没有达到我们最大的bits数的限制，我们还要加一些补齐码（Padding Bytes），Padding Bytes就是重复下面的两个bytes：11101100 00010001 （这两个二进制转成十进制是236和17，我也不知道为什么，只知道Spec上是这么写的）关于每一个Version的每一种纠错级别的最大Bits限 制，可以参看QR Code Spec的第28页到32页的Table-7一表。</p>
<p>假设我们需要编码的是Version 1的Q纠错级，那么，其最大需要104个bits，而我们上面只有80个bits，所以，还需要24个bits，也就是需要3个Padding Bytes，我们就添加三个，于是得到下面的编码：</p>
<p>00100000 01011011 00001011 01111000 11010001 01110010 11011100 01001101 01000011 01000000 11101100 00010001 11101100</p>
<p>纠错码</p>
<p>上面我们说到了一些纠错级别，Error Correction Code Level，二维码中有四种级别的纠错，这就是为什么二维码有残缺还能扫出来，也就是为什么有人在二维码的中心位置加入图标。</p>
<p>错误修正容量</p>
<p>L水平    7%的字码可被修正    </p>
<p>M水平    15%的字码可被修正    </p>
<p>Q水平    25%的字码可被修正    </p>
<p>H水平    30%的字码可被修正    </p>
<p>那么，QR是怎么对数据码加上纠错码的？首先，我们需要对数据码进行分组，也就是分成不同的Block，然后对各个Block进行纠错编码，对于如何分组，我们可以查看QR Code Spec的第33页到44页的Table-13到Table-22的定义表。注意最后两列：</p>
<p>Number of Error Code Correction Blocks ：需要分多少个块。</p>
<p>Error Correction Code Per Blocks：每一个块中的code个数，所谓的code的个数，也就是有多少个8bits的字节。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=3ba9738196529822056631c5e7fa57f3/0b55b319ebc4b7453e23f850c9fc1e178b8215c4.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>举个例子：上述的Version 5 + Q纠错级：需要4个Blocks（2个Blocks为一组，共两组），头一组的两个Blocks中各15个bits数据 + 各 9个bits的纠错码（注：表中的codewords就是一个8bits的byte）（再注：最后一例中的（c, k, r ）的公式为：c = k + 2 * r，因为后脚注解释了：纠错码的容量小于纠错码的一半）</p>
<p>对每个块的纠错码</p>
<p>1    1    67 85 70 134 87 38 85 194 119 50 6 18 6 103 38    213 199 11 45 115 247 241 223 229 248 154 117 154 111 86 161 111 39    </p>
<p>2    246 246 66 7 118 134 242 7 38 86 22 198 199 146 6    87 204 96 60 202 182 124 157 200 134 27 129 209 17 163 163 120 133    </p>
<p>2    1    182 230 247 119 50 7 118 134 87 38 82 6 134 151 50 7    148 116 177 212 76 133 75 242 238 76 195 230 189 10 108 240 192 141    </p>
<p>2    70 247 118 86 194 6 151 50 16 236 17 236 17 236 17 236    235 159 5 173 24 147 59 33 106 40 255 172 82 2 131 32 178 236    </p>
<p>注：二维码的纠错码主要是通过Reed-Solomon error correction（里 德-所罗门纠错算法）来实现的。对于这个算法，对于我来说是相当的复杂，里面有很多的数学计算，最终编码。</p>
<p>穿插放置</p>
<p>二维码的混乱技术还没有玩完，它还要把数据码和纠错码的各个codewords交替放在一起。如何交替呢，规则如下：</p>
<p>对于数据码：把每个块的第一个codewords先拿出来按顺度排列好，然后再取第一块的第二个，如此类推。如：上述示例中的Data Codewords如下：</p>
<p>块 1    67    85    70    134    87    38    85    194    119    50    6    18    6    103    38         </p>
<p>块 2    246    246    66    7    118    134    242    7    38    86    22    198    199    146    6         </p>
<p>块 3    182    230    247    119    50    7    118    134    87    38    82    6    134    151    50    7    </p>
<p>块 4    70    247    118    86    194    6    151    50    16    236    17    236    17    236    17    236    </p>
<p>我们先取第一列的：67， 246， 182， 70</p>
<p>然后再取第二列的：67， 246， 182， 70， 85，246，230 ，247</p>
<p>如此类推：67， 246， 182， 70， 85，246，230 ，247 ………  ……… ，38，6，50，17，7，236</p>
<p>对于纠错码，也是一样：</p>
<p>块 1    213    199    11    45    115    247    241    223    229    248    154    117    154    111    86    161    111    39    </p>
<p>块 2    87    204    96    60    202    182    124    157    200    134    27    129    209    17    163    163    120    133    </p>
<p>块 3    148    116    177    212    76    133    75    242    238    76    195    230    189    10    108    240    192    141    </p>
<p>块 4    235    159    5    173    24    147    59    33    106    40    255    172    82    2    131    32    178    236    </p>
<p>和数据码取的一样，得到：213，87，148，235，199，204，116，159，…… …… 39，133，141，236</p>
<p>然后，再把这两组放在一起（纠错码放在数据码之后）得到：</p>
<p>67, 246, 182, 70, 85, 246, 230, 247, 70, 66, 247, 118, 134, 7, 119, 86, 87, 118, 50, 194, 38, 134, 7, 6, 85, 242, 118, 151, 194, 7, 134, 50, 119, 38, 87, 16, 50, 86, 38, 236, 6, 22, 82, 17, 18, 198, 6, 236, 6, 199, 134, 17, 103, 146, 151, 236, 38, 6, 50, 17, 7, 236, 213, 87, 148, 235, 199, 204, 116, 159, 11, 96, 177, 5, 45, 60, 212, 173, 115, 202, 76, 24, 247, 182, 133, 147, 241, 124, 75, 59, 223, 157, 242, 33, 229, 200, 238, 106, 248, 134, 76, 40, 154, 27, 195, 255, 117, 129, 230, 172, 154, 209, 189, 82, 111, 17, 10, 2, 86, 163, 108, 131, 161, 163, 240, 32, 111, 120, 192, 178, 39, 133, 141, 236</p>
<p>Remainder Bits</p>
<p>最后再加上Reminder Bits，对于某些Version的QR，上面的还不够长度，还要加上Remainder Bits，比如：上述的5Q版的二维码，还要加上7个bits，Remainder Bits加零就好了。关于哪些Version需要多少个Remainder bit，可以参看QR Code Spec的第15页的Table-1的定义表。</p>
<p>4、画二维码图</p>
<p>Position Detection Pattern</p>
<p>首先，先把Position Detection图案画在三个角上。<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/7Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=02a423f4b4b7d0a27b9c0c9bfbdf5a31/63d0f703918fa0eca76a2b4b209759ee3c6ddbc3.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>Alignment Pattern</p>
<p>然后，再把Alignment图案画上<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=fc08826f8018367aaddc77db1e43a7ec/c9fcc3cec3fdfc03de1cacfed23f8794a4c2260b.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>关于Alignment的位置，可以查看QR Code Spec的第81页的Table-E.1的定义表（下表是不完全表格）<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=c27ff065652762d0806bacb990dc24c2/43a7d933c895d143c6d8ab6575f082025baf07cd.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>下图是根据上述表格中的Version8的一个例子（6，24，42）<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=a44d40f1ef50352ab1342d0e6373d7ca/e824b899a9014c08f0b867e30c7b02087af4f4f1.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>Timing Pattern</p>
<p>接下来是Timing Pattern的线（这个不用多说了）</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=a2c4794d5db5c9ea62a60be5e5099a38/8601a18b87d6277f08707d7e2e381f30e924fc12.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>Format Information</p>
<p>再接下来是Formation Information，下图中的蓝色部分。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=55f2d2a5fb1f4134e0620d78152fb9f2/d1a20cf431adcbef85e53140aaaf2edda2cc9fa7.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>Format Information是一个15个bits的信息，每一个bit的位置如下图所示：（注意图中的Dark Module，那是永远出现的）</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-fo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=94882b79dff9d72a1731181be41a040c/f9198618367adab4c42954058dd4b31c8601e4ff.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>这15个bits中包括：</p>
<p>5个数据bits：其中，2个bits用于表示使用什么样的Error Correction Level， 3个bits表示使用什么样的Mask</p>
<p>10个纠错bits。主要通过BCH Code来计算</p>
<p>然后15个bits还要与101010000010010做XOR操作。这样就保证不会因为我们选用了00的纠错级别，以及000的Mask，从重造成全部为白色，这会增加我们的扫描器的图像识别的困难。</p>
<p>下面是一个示例：</p>
<p>关于Error Correction Level如下表所示：</p>
<p>关于Mask图案如后面的Table 23所示。</p>
<p>Version Information</p>
<p>再接下来是Version Information（版本7以后需要这个编码），下图中的蓝色部分。</p>
<p>Version Information一共是18个bits，其中包括6个bits的版本号以及12个bits的纠错码，下面是一个示例：</p>
<p>而其填充位置如下：</p>
<p>数据和数据纠错码</p>
<p>然后是填接我们的最终编码，最终编码的填充方式如下：从左下角开始沿着红线填我们的各个bits，1是黑色，0是白色。如果遇到了上面的非数据区，则绕开或跳过。</p>
<p>5、掩码图案</p>
<p>这样下来，图就填好了，但是，也许那些点并不均衡，所以还要做Masking操作QR的Spec中说了，QR有8个 Mask可以使用，如下所示：其中，各个mask的公式在各个图下面。所谓mask，说白了，就是和上面生成的图做XOR操作。Mask只会和数据区进 行XOR，不会影响功能区。</p>
<p>其Mask的标识码如下所示：（其中的i,j分别对应于上图的x,y）</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://gss0.baidu.com/-vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh=600,800/sign=7ccde12649c2d562f25dd8ebd721bcd7/7acb0a46f21fbe09ae968c526d600c338644ada8.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure>
<p>Mask过后的二维码就成最终的图了。</p>
<p>（以上内容来源于网络）</p>
<h3 id="二、-编码实现"><a href="#二、-编码实现" class="headerlink" title="二、 编码实现"></a>二、 编码实现</h3><p>首先，我们需要下载Google的ZXing库。<br>下载地址：<a href="https://github.com/zxing/zxing" target="_blank" rel="noopener">https://github.com/zxing/zxing</a></p>
<p>根据内容创建二维码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * TODO 根据给定的内容生成二维码</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> content        二维码内容</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> logoImagePath  logo图标的路径</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> needCompressed 是否需要压缩logo</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 生成的二维码</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> WriterException</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> BufferedImage <span class="title">createImage</span><span class="params">(String content, String logoImagePath, <span class="keyword">boolean</span> needCompressed)</span> </span></span><br><span class="line"><span class="function">           <span class="keyword">throws</span> IOException, WriterException </span>&#123;</span><br><span class="line">       HashMap hints = <span class="keyword">new</span> HashMap&lt;EncodeHintType, Object&gt;();</span><br><span class="line">       hints.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);  <span class="comment">// 纠错等级</span></span><br><span class="line">       hints.put(EncodeHintType.CHARACTER_SET, CHARSET);</span><br><span class="line">       hints.put(EncodeHintType.MARGIN, <span class="number">1</span>);  <span class="comment">// 二维码两边空白区域大小</span></span><br><span class="line">       BitMatrix bitMatrix = <span class="keyword">new</span> MultiFormatWriter().encode(content, BarcodeFormat.QR_CODE, QRCODE_SIZE, QRCODE_SIZE, hints);</span><br><span class="line">       <span class="keyword">int</span> height = bitMatrix.getHeight();</span><br><span class="line">       <span class="keyword">int</span> width = bitMatrix.getWidth();</span><br><span class="line">       BufferedImage image = <span class="keyword">new</span> BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; width; x++)</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; height; y++)</span><br><span class="line">               image.setRGB(x, y, bitMatrix.get(x, y) ? <span class="number">0xFF000000</span> : <span class="number">0xFFFFFFFF</span>);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (logoImagePath == <span class="keyword">null</span> || <span class="string">""</span>.equals(logoImagePath))</span><br><span class="line">           <span class="keyword">return</span> image;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 如果有logo，则插入logo图片</span></span><br><span class="line">       QRCode.InsertImage(image, logoImagePath, needCompressed);</span><br><span class="line">       <span class="keyword">return</span> image;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>如果有logo则将logo插入到二维码中<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * TODO 插入logo图片</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> sourceImage 原图片</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> logoImagePath logo图片所在的路径</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> needCompressed 是否需要压缩</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InsertImage</span><span class="params">(BufferedImage sourceImage, String logoImagePath, <span class="keyword">boolean</span> needCompressed)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       File file = <span class="keyword">new</span> File(logoImagePath);</span><br><span class="line">       <span class="keyword">if</span> (!file.exists())&#123;</span><br><span class="line">           System.out.println(<span class="string">"logo文件不存在！\n"</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       Image src = ImageIO.read(file);</span><br><span class="line">       <span class="keyword">int</span> width = src.getWidth(<span class="keyword">null</span>);</span><br><span class="line">       <span class="keyword">int</span> height = src.getHeight(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 压缩二维码图片</span></span><br><span class="line">       <span class="keyword">if</span> (needCompressed) &#123;</span><br><span class="line">           <span class="keyword">if</span> (width &gt; LOGO_WIDTH)</span><br><span class="line">               width = LOGO_WIDTH;</span><br><span class="line">           <span class="keyword">if</span> (height &gt; LOGO_HEIGHT)</span><br><span class="line">               height = LOGO_HEIGHT;</span><br><span class="line"></span><br><span class="line">           Image image = src.getScaledInstance(width, height, Image.SCALE_SMOOTH);</span><br><span class="line">           BufferedImage tag = <span class="keyword">new</span> BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);</span><br><span class="line">           Graphics g = tag.getGraphics();</span><br><span class="line">           g.drawImage(image, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">null</span>);</span><br><span class="line">           g.dispose();  <span class="comment">// 释放占有的资源</span></span><br><span class="line">           src = image;</span><br><span class="line">           <span class="comment">// 直观的理解：Graphics2D 就相当于画笔，而BufferedImage 就是画笔绘制的结果。</span></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 插入logo</span></span><br><span class="line">       Graphics2D graph = sourceImage.createGraphics();</span><br><span class="line">       <span class="keyword">int</span> x = (QRCODE_SIZE - width) / <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">int</span> y = (QRCODE_SIZE - height) / <span class="number">2</span>;</span><br><span class="line">       graph.drawImage(src, x, y, width, height, <span class="keyword">null</span>);</span><br><span class="line">       Shape shape = <span class="keyword">new</span> RoundRectangle2D.Float(x, y, width, width, <span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line">       graph.setStroke(<span class="keyword">new</span> BasicStroke(<span class="number">3f</span>));</span><br><span class="line">       graph.draw(shape);</span><br><span class="line">       graph.dispose();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>解码过程<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * TODO 解析二维码内容</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> file 二维码</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 二维码包含的信息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decode</span><span class="params">(File file)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">       BufferedImage image;</span><br><span class="line">       image = ImageIO.read(file);</span><br><span class="line">       <span class="keyword">if</span> (image == <span class="keyword">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       BufferedImageLuminanceSource source = <span class="keyword">new</span> BufferedImageLuminanceSource(image);</span><br><span class="line">       BinaryBitmap bitmap = <span class="keyword">new</span> BinaryBitmap(<span class="keyword">new</span> HybridBinarizer(source));</span><br><span class="line">       HashMap hints = <span class="keyword">new</span> HashMap&lt;DecodeHintType, Object&gt;();</span><br><span class="line">       hints.put(DecodeHintType.CHARACTER_SET, CHARSET);</span><br><span class="line">       Result result = <span class="keyword">new</span> MultiFormatReader().decode(bitmap, hints);</span><br><span class="line">       String resultStr = result.getText();</span><br><span class="line">       <span class="keyword">return</span> resultStr;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>测试结果<br><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://upload-images.jianshu.io/upload_images/12649311-374caaf35a8835dc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure><br>源码下载地址：<a href="https://github.com/Liyzy/ZXing-QRCode" target="_blank" rel="noopener">https://github.com/Liyzy/ZXing-QRCode</a><br>开发环境：idea 2018.2</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-09-06T10:40:40.000Z" itemprop="dateUpdated">2018-09-06 18:40:40</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="http://liyzy.github.io">
            <img src="/img/avatar.jpg" alt="lihui">
            lihui
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&title=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&pic=http://liyzy.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&title=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&via=http://liyzy.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/08/06/java-2/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Java_2</h4>
      </a>
    </div>
  
</nav>



    


<section class="comments" id="comments">
    <div id="disqus_thread"></div>
    <script>
    var disqus_shortname = 'true';
    lazyScripts.push('//' + disqus_shortname + '.disqus.com/embed.js')
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        一角一元都是情~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>lihui &copy; 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&title=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&pic=http://liyzy.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&title=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《利用ZXing工具生成二维码以及解析二维码》 — 李三岁他很皮&url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/&via=http://liyzy.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://liyzy.github.io/2018/09/06/利用ZXing工具生成二维码以及解析二维码/" alt="微信分享二维码">
</div>





    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '去哪里了?';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又回来了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
